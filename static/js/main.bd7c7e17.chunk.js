(this["webpackJsonphttps://ahmedali-dev.github.io/firstStoreUseReact/"]=this["webpackJsonphttps://ahmedali-dev.github.io/firstStoreUseReact/"]||[]).push([[0],{40:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},88:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(20),r=c.n(s),i=(c(51),c(41)),d=c(42),o=c(46),l=c(45),u=(c(52),c(7)),j=(c(53),c(1)),b=function(){return Object(j.jsx)("div",{className:"reload samole",children:Object(j.jsx)("div",{})})},m=c(8),p=c(13),O=c(12),h=c.n(O),f=c(18),x=c(16);c(29);var v,g=function(e){var t=e.name,c=e.price,a=e.count,n=e.image,s=e.imageSlide,r=new FormData;r.append("name",t),r.append("price",c),r.append("count",a),r.append("image",n.files[0]);for(var i=0;i<s.files.length;i++)r.append("imageSlide[]",s.files[i]);return function(e){return fetch(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).then((function(e){return e.json()}))}("http://localhost:8080/addItem.php",{method:"post",body:r})},N=Object(x.b)("porduct/getData",Object(f.a)(h.a.mark((function e(){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("type","all"),e.next=4,fetch("http://localhost:8080/getItem.php",{method:"POST",body:t});case 4:return c=e.sent,e.next=7,c.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))),y=Object(x.b)("product/getCart",function(){var e=Object(f.a)(h.a.mark((function e(t){var c,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("type","list"),c.append("list",JSON.stringify(t)),e.next=5,fetch("http://localhost:8080/getItem.php",{method:"POST",body:c});case 5:return a=e.sent,e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=Object(x.c)({name:"product",initialState:{posts:["asdfas"],cart:[],cart_value:[],totalprice:0},reducers:{addProduct:function(e,t){g({name:t.payload.name,price:t.payload.price,count:t.payload.count,image:t.payload.image,imageSlide:t.payload.imageSlide}).then((function(e){if("items add sucsessfuly"!=e.msg)return!1}))},deleteProduct:function(e,t){},updateProduct:function(e,t){},addCart:function(e,t){e.cart.includes(t.payload)||e.cart.push(t.payload)},updateCartCountInc:function(e,t){e.cart_value.map((function(e){e.data.id==t.payload&&e.count<12&&(e.count+=1,e.data.price=e.data.price*e.count)}))},updateCartCountDec:function(e,t){e.cart_value.map((function(e,c){e.data.id==t.payload&&e.count>1&&(e.data.price=e.data.price/e.count,e.count-=1)}))},TotalPrice:function(e,t){var c=0;e.cart_value.map((function(e){c+=parseInt(e.data.price)})),e.totalprice=c,console.log(e.totalprice)}},extraReducers:(v={},Object(p.a)(v,N.pending,(function(e){})),Object(p.a)(v,N.fulfilled,(function(e,t){e.posts=t.payload.data})),Object(p.a)(v,N.rejected,(function(e){})),Object(p.a)(v,y.pending,(function(e){})),Object(p.a)(v,y.fulfilled,(function(e,t){e.cart_value=t.payload})),Object(p.a)(v,y.rejected,(function(e,t){})),v)}),_=C.actions,S=_.addProduct,k=(_.GetAllProducts,_.addCart),w=_.updateCartCountInc,P=_.updateCartCountDec,F=_.TotalPrice,I=C.reducer,R=(c(84),function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),c=t[0],n=t[1],s=(Object(m.c)((function(e){return e.product})),Object(m.b)()),r=Object(a.useRef)(),i=Object(a.useRef)(),d=Object(a.useRef)(),o=Object(a.useRef)(),l=Object(a.useRef)();return Object(j.jsxs)("div",{className:"form",children:[Object(j.jsx)("div",{className:"form_group",children:Object(j.jsx)("h1",{children:"add item"})}),Object(j.jsxs)("div",{className:"form_group",children:[Object(j.jsx)("label",{htmlFor:"name",children:"name"}),Object(j.jsx)("input",{ref:r,className:"form_input",type:"text",name:"name"})]}),Object(j.jsxs)("div",{className:"form_group",children:[Object(j.jsx)("label",{htmlFor:"name",children:"price"}),Object(j.jsx)("input",{ref:i,className:"form_input",type:"text",name:"price"})]}),Object(j.jsxs)("div",{className:"form_group",children:[Object(j.jsx)("label",{htmlFor:"name",children:"count"}),Object(j.jsx)("input",{ref:d,className:"form_input",type:"text",name:"count"})]}),Object(j.jsxs)("div",{className:"form_group",children:[Object(j.jsx)("label",{htmlFor:"image",children:"image"}),Object(j.jsx)("input",{ref:o,className:"form_input",id:"image",type:"file",name:"image"})]}),Object(j.jsxs)("div",{className:"form_group",children:[Object(j.jsx)("label",{htmlFor:"imageSlider",children:"image slider"}),Object(j.jsx)("input",{className:"form_input",type:"file",id:"imageSlider",multiple:"multiple",name:"slider",ref:l})]}),Object(j.jsx)("div",{className:"form_group",children:Object(j.jsx)("button",{className:"btn-addItem",onClick:function(){return function(){n(!0);var e={name:r.current.value,price:i.current.value,count:d.current.value,image:o.current,imageSlide:l.current};s(S(e)),setTimeout((function(){n(!1)}),3e3)}()},children:c?Object(j.jsx)(b,{}):"AddItem"})})]})}),T=c(10),E=(c(85),function(){var e=Object(m.c)((function(e){return e.product})).cart,t=Object(a.useRef)();return Object(a.useEffect)((function(){window.addEventListener("scroll",(function(e){window.scrollY>150?t.current.classList.add("activenav"):window.scrollY<150&&t.current.classList.remove("activenav")}))}),[t]),Object(j.jsxs)("div",{className:"navbar",ref:t,children:[Object(j.jsx)("div",{className:"logo",children:Object(j.jsx)("p",{children:"dv"})}),Object(j.jsxs)("div",{className:"nav",children:[Object(j.jsx)("div",{className:"nav-item",children:Object(j.jsx)(T.b,{to:"/product",className:"nav-item-link",children:"Product"})}),Object(j.jsx)("div",{className:"nav-item",children:Object(j.jsx)(T.b,{to:"/additem",className:"nav-item-link",children:"AddItem"})}),Object(j.jsx)("div",{className:"nav-item",children:Object(j.jsxs)(T.b,{to:"/cart",className:"nav-item-link",children:["Cart"," ",Object(j.jsx)("span",{className:"cart-spanNum",children:e.length>0?"".concat(e.length):"0"})]})})]}),Object(j.jsxs)("div",{className:"navToggle",children:[Object(j.jsx)("span",{className:"nav-toggle"}),Object(j.jsx)("span",{className:"nav-toggle"}),Object(j.jsx)("span",{className:"nav-toggle"})]})]})}),D=c(2),L=(c(40),function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),c=(t[0],t[1],Object(m.c)((function(e){return e.product})).posts),n=Object(m.b)();return console.log(c),Object(a.useLayoutEffect)((function(){n(N())}),[]),Object(j.jsx)("div",{className:"product container",children:Object(j.jsx)("div",{className:"row",children:c.map((function(e){return Object(j.jsxs)("div",{className:"product-card",children:[Object(j.jsxs)(T.b,{to:"/product/"+e.id,className:"product-link",children:[Object(j.jsx)("div",{className:"product-image",children:Object(j.jsx)("img",{src:"http://localhost:8080/image/".concat(e.image)})}),Object(j.jsxs)("div",{className:"product-content",children:[Object(j.jsx)("p",{className:"product-title",children:e.name}),Object(j.jsxs)("h2",{className:"product-price",children:[e.price," ",Object(j.jsx)("span",{children:"EGB"})]})]})]}),Object(j.jsx)("div",{className:"addCart",children:Object(j.jsx)("button",{className:"btn-addCart",onClick:function(t){n(k(e.id))},children:"addCart"})})]})}))})})}),B=c(28),G=c(27),A=function(){var e=Object(m.c)((function(e){return e.product})),t=e.cart,c=e.cart_value,n=e.totalprice,s=Object(a.useState)(0),r=Object(u.a)(s,2),i=(r[0],r[1],Object(m.b)());return Object(a.useEffect)((function(){i(y(t))}),[]),Object(a.useMemo)((function(){i(F())}),[c]),Object(j.jsxs)("div",{className:"product",children:[Object(j.jsxs)("div",{className:"cart-header",children:[Object(j.jsx)("div",{className:"cart_totalPrice",children:Object(j.jsxs)("p",{className:"totalPrice",children:["Total: ",n,Object(j.jsx)("span",{children:" EGB"})]})}),Object(j.jsx)("div",{className:"btn-checkout",children:Object(j.jsx)(T.b,{to:"/",className:"cart-checkout",children:"CheckOut"})})]}),Object(j.jsx)("div",{className:"row",children:c&&c.map((function(e){return Object(j.jsxs)("div",{className:"product-card",children:[Object(j.jsxs)(T.b,{to:"/product/"+e.data.id,className:"product-link",children:[Object(j.jsx)("div",{className:"product-image",children:Object(j.jsx)("img",{src:"http://localhost:8080/image/".concat(e.data.image)})}),Object(j.jsxs)("div",{className:"product-content",children:[Object(j.jsx)("p",{className:"product-title",children:e.data.name}),Object(j.jsxs)("h2",{className:"product-price",children:[e.data.price," ",Object(j.jsx)("span",{children:"EGB"})]})]})]}),Object(j.jsxs)("div",{className:"button-action",children:[Object(j.jsx)("button",{className:"btn-dec",onClick:function(){console.log(i(P(e.data.id)))},children:Object(j.jsx)(B.a,{icon:G.a})}),Object(j.jsx)("p",{className:"cart-item_number",children:e.count}),Object(j.jsx)("button",{className:"btn-inc",onClick:function(){i(w(e.data.id))},children:Object(j.jsx)(B.a,{icon:G.b})})]})]})}))})]})},J=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(D.c,{children:[Object(j.jsx)(D.a,{path:"/product",element:Object(j.jsx)(L,{})}),Object(j.jsx)(D.a,{path:"/",element:Object(j.jsx)(L,{})}),Object(j.jsx)(D.a,{path:"/product/:id",element:Object(j.jsx)(A,{})}),Object(j.jsx)(D.a,{path:"/:id",element:Object(j.jsx)(A,{})}),Object(j.jsx)(D.a,{path:"/additem",element:Object(j.jsx)(R,{})}),Object(j.jsx)(D.a,{path:"/cart",element:Object(j.jsx)(A,{})})]})})},M=function(e){Object(o.a)(c,e);var t=Object(l.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(d.a)(c,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(E,{}),Object(j.jsx)(J,{})]})}}]),c}(a.Component),U=M,Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,89)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))},q=Object(x.a)({reducer:{product:I}});r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(m.a,{store:q,children:Object(j.jsx)(T.a,{children:Object(j.jsx)(U,{})})})}),document.getElementById("root")),Y()}},[[88,1,2]]]);
//# sourceMappingURL=main.bd7c7e17.chunk.js.map